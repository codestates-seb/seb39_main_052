= My Fridge API Docs
:sectnums:
:toc: left
:toclevels: 4
:toc-title: 목차
:source-highlighter: prettify

***
== 인증 관련 API
=== 로그인
***

 사용자 로그인을 위한 API 입니다.

.http-request
include::{snippets}/login-success/http-request.adoc[]

.request-fields
include::{snippets}/login-success/request-fields.adoc[]

.http-response
include::{snippets}/login-success/http-response.adoc[]

.response-headers
include::{snippets}/login-success/response-headers.adoc[]

=== 로그아웃
***

 로그아웃을 위한 API 입니다.
 로그아웃시 Refresh-token은 서버에서 Set-cookie를 통해 삭제
 Access token은 클라이언트에서 별도 삭제 필요

.http-request
include::{snippets}/logout-success/http-request.adoc[]

.request-headers
include::{snippets}/logout-success/request-headers.adoc[]

.http-response
include::{snippets}/logout-success/http-response.adoc[]

=== 회원가입
***

 회원가입을 위한 API 입니다.

.http-request
include::{snippets}/signup-success/http-request.adoc[]

.request-fields
include::{snippets}/signup-success/request-fields.adoc[]

.http-response
include::{snippets}/signup-success/http-response.adoc[]

.response-fields
include::{snippets}/signup-success/response-fields.adoc[]

=== Access Token 재발급
***

 Access token 재발급을 위한 API 입니다.
  - Access Token이 필요한 주소로 요청했을 때 Status 401에 code가 1인 경우 Access Token 만료를 의미한다.
  - 이 때 /api/auth/refresh 로 Access Token 재발급 요청을 할 수 있다.

.http-request
include::{snippets}/refresh-access-token/http-request.adoc[]

.request-headers
include::{snippets}/refresh-access-token/request-headers.adoc[]

.http-response
include::{snippets}/refresh-access-token/http-response.adoc[]

.response-fields
include::{snippets}/refresh-access-token/response-fields.adoc[]

***
== 레시피 관련 API
=== 레시피 생성
***
 레시피 생성과 관련된 API 입니다.
  - 레시피를 생성할 때는 요청 Header에 'Authorization : {Access Token 값}'을 담아 요청해야 합니다.
  - 요리 재료와 관련된 작업이 마무리되면, 요청 데이터에 재료 관련 데이터도 포함할 예정입니다.
  - form-data 형식으로 요청을 하고, requestBody에는 Json 데이터를, files에는 이미지를 추가하면 됩니다.

.curl-request
include::{snippets}/recipe-create/curl-request.adoc[]

.http-response
include::{snippets}/recipe-create/http-response.adoc[]

.response-fields
include::{snippets}/recipe-create/response-fields.adoc[]

=== 레시피 수정
 레시피 수정과 관련된 API 입니다.
  - 레시피를 수정할 때는 요청 URI에 수정할 레시피 id값을 전달해야 합니다.
  - 레시피를 수정할 때는 요청 Header에 'Authorization : {Access Token 값}'을 담아 요청해야 합니다.
  - 요리 재료와 관련된 작업이 마무리되면, 요청 데이터에 재료 관련 데이터도 포함할 예정입니다.
  - form-data 형식으로 요청을 하고, requestBody에는 Json 데이터를, files에는 이미지를 추가하면 됩니다.
  - 작성자가 아니면 수정할 수 없습니다.

.http-request
include::{snippets}/recipe-update/http-request.adoc[]

.curl-request
include::{snippets}/recipe-update/curl-request.adoc[]

.http-response
include::{snippets}/recipe-update/http-response.adoc[]

.response-fields
include::{snippets}/recipe-update/response-fields.adoc[]

=== 레시피 삭제
 레시피 삭제와 관련된 API 입니다.
  - 레시피를 삭제할 때는 요청 URI에 수정할 레시피 id값을 전달해야 합니다.
  - 레시피를 삭제할 때는 요청 Header에 'Authorization : {Access Token 값}'을 담아 요청해야 합니다.
  - 작성자가 아니면 삭제할 수 없습니다.

.path-parameters
include::{snippets}/recipe-delete/path-parameters.adoc[]

.http-request
include::{snippets}/recipe-delete/http-request.adoc[]

.http-response
include::{snippets}/recipe-delete/http-response.adoc[]